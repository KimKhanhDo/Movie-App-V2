import{b as u,j as e,I as h,F as g,f as b,d as v,e as m,r as x,a as n,g as j,M as f}from"./index-s5-Lj_mH.js";import{T as w,a as N}from"./constants-BbE3kSVk.js";function y(i){const{data:{id:a,backdrop_path:r,title:t,release_date:d,overview:l,trailerVideoKey:o}}=i,{openPopUp:c}=u();return e.jsxs("div",{children:[e.jsx(h,{src:r&&`https://image.tmdb.org/t/p/original${r}`,alt:t,className:"aspect-video w-full brightness-50",width:900,height:500}),e.jsxs("div",{className:"absolute bottom-[10%] left-8 w-1/2 sm:w-1/3",children:[e.jsx("p",{className:"mb-2 font-bold sm:text-[2vw]",children:t}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 inline-block border border-gray-400 p-1 text-gray-400",children:"PG13"}),e.jsx("p",{className:"text-[1.2vw]",children:d})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mt-4 hidden text-[1.2vw] sm:block",children:[e.jsx("p",{className:"mb-2 font-bold",children:"Overview"}),e.jsx("p",{children:l})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("button",{className:"text-10 mr-2 cursor-pointer rounded bg-white px-4 py-2 text-black lg:text-lg",onClick:()=>c(e.jsx("iframe",{title:"Trailer",src:`https://www.youtube.com/embed/${o}`,className:"aspect-video w-[50vw]"})),children:[e.jsx(g,{icon:b})," Trailer"]}),e.jsx(v,{to:`/movie/${a}`,children:e.jsx("button",{className:"text-10 cursor-pointer rounded bg-slate-300/35 px-4 py-2 lg:text-lg",children:"View Detail"})})]})]})]})]})}function T({movies:i,activeMovieId:a,setActiveMovieId:r}){return e.jsx("div",{className:"absolute right-8 bottom-[10%]",children:e.jsx("ul",{className:"flex gap-1",children:i.map(t=>e.jsx("li",{className:m("h-1 w-6 cursor-pointer",{"bg-slate-100":t.id===a,"bg-slate-600":t.id!==a}),onClick:()=>r(t.id)},t.id))})})}function _(){const[i,a]=x.useState(),{data:r}=n({url:"/discover/movie?include_adult=false&language=en-US&page=1&sort_by=popularity.desc&include_video=true"}),t=(r.results||[]).slice(0,4);x.useEffect(()=>{t[0]?.id&&a(t[0].id)},[JSON.stringify(t)]);const{data:d}=n({url:`/movie/${i}/videos`},{enabled:!!i});return e.jsxs("div",{className:"relative text-white",children:[t.filter(l=>l.id===i).map(l=>e.jsx(y,{data:l,trailerVideoKey:(d?.results||[]).find(o=>o.type==="Trailer"&&o.site==="YouTube")?.key},l.id)),e.jsx(T,{movies:t,activeMovieId:i,setActiveMovieId:a})]})}function p({title:i,tabs:a}){const[r,t]=j(),d=r.get("tab")??a[0]?.id,l=a.find(s=>s.id===d)?.url,{data:o}=n({url:l}),c=(o.results||[]).slice(0,12);return e.jsxs("div",{className:"bg-black px-8 py-10 text-[1.2vw] text-white",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[e.jsx("p",{className:"text-[2vw] font-bold",children:i}),e.jsx("ul",{className:"flex rounded border border-white",children:a.map(s=>e.jsx("li",{className:m("cursor-pointer px-2 py-1",s.id===d?"bg-white text-black":"text-white"),onClick:()=>t({tab:s.id}),children:s.name},s.id))})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4 lg:grid-cols-6 lg:gap-6",children:c.map(s=>e.jsx(f,{id:s.id,title:s.title||s.name,releaseDate:s.release_date||s.first_air_date,poster:s.poster_path,point:s.vote_average,mediaType:s.media_type||d},s.id))})]})}function M(){return e.jsxs("div",{children:[e.jsx(_,{}),e.jsx(p,{title:"Trending",tabs:w}),e.jsx(p,{title:"Top Rated",tabs:N})]})}export{M as default};
